{"version":3,"file":"static/js/214.afed9544.chunk.js","mappings":"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","sources":["assets/svg/arrow-down.svg","assets/svg/arrow-right.svg","assets/svg/clip.svg","webpack://my-app/./src/components/Messages/Messages.module.css?8e7e","components/Messages/Messages.tsx"],"sourcesContent":["var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M0 0h24v24H0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 16l-6-6h12z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowDown);\nexport default __webpack_public_path__ + \"static/media/arrow-down.62ce1cc31b940d051e5a06d4c8177ccf.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowRight(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M0 0h24v24H0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 12l-6 6V6z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowRight);\nexport default __webpack_public_path__ + \"static/media/arrow-right.f926d159a908b445563073e26e664ca4.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgClip(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"913.9px\",\n    height: \"913.9px\",\n    viewBox: \"0 0 913.9 913.9\",\n    style: {\n      enableBackground: \"new 0 0 913.9 913.9\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M849.4,248.6c-2.8-69-32.3-132.9-83.1-179.8c-24-22.1-51.3-39.3-81.2-51.1C655.201,6,623.601,0,591.101,0 c-3.5,0-7.1,0.1-10.6,0.2c-69,2.8-132.8,32.3-179.8,83.2L109.801,397.3c-9.3,10.101-8.8,25.801,1.2,35.2l20.2,19 c10.1,9.5,26,9,35.5-1.2l291.1-314.1c33.2-36,81.9-56.7,133.5-56.7c46.4,0,89.9,16.5,122.3,46.5c35.5,32.8,56.2,77.4,58.101,125.8 c1.899,48.3-14.9,94.3-47.5,129.6l0,0l0,0l-395.4,422.1c-19.8,21.4-48.7,33.7-79.4,33.7c-27.6,0-53.5-9.8-72.8-27.7 c-21.1-19.5-33.3-46-34.6-74.8c-1.2-28.7,8.8-56.1,28.1-77l0,0l0,0c0,0,368-392.7,368.601-393.2c32.199-33.4,82.699,15.2,50.5,48.6 c-54.7,56.7-195.2,208.4-264,282.9c-9.301,10.101-8.801,25.8,1.199,35.2l20.2,19c10.101,9.5,26,9,35.5-1.2l264.9-285.6 c41.899-45.4,39.1-116.5-6.4-158.5c-20.7-19.1-47.8-29.7-76.1-29.7c-15.3,0-30.101,3-44.101,9c-14.399,6.1-27.199,15.1-37.8,26.7 l0,0l0,0l-369.3,393.8c-69.3,75.1-64.5,192.6,10.6,262c33,30.5,77.5,47.2,125.3,47.2c53.1,0,102.8-20.9,136.4-57.3l0,0l0,0 l395.4-422.101C827.801,383.7,852.101,317.7,849.4,248.6z\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClip);\nexport default __webpack_public_path__ + \"static/media/clip.5b44779592dbe7f51d5b74f2ab6e8949.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"messages_wrapper\":\"Messages_messages_wrapper__1ipvH\",\"left_panel\":\"Messages_left_panel__fxgwD\",\"main\":\"Messages_main__7BC46\",\"messages\":\"Messages_messages__8s+pC\",\"message_item_wrapper\":\"Messages_message_item_wrapper__rTXsX\",\"reverse\":\"Messages_reverse__0lgce\",\"message_item\":\"Messages_message_item__5Bsid\",\"message_image\":\"Messages_message_image__M5PlQ\",\"avatar_wrapper\":\"Messages_avatar_wrapper__T7+NF\",\"avatar\":\"Messages_avatar__Hhb0g\",\"message_data\":\"Messages_message_data__9xkKG\",\"type_message\":\"Messages_type_message__qN46y\",\"message_author_wrapper\":\"Messages_message_author_wrapper__D-6kH\",\"message_author\":\"Messages_message_author__5hLMm\",\"create_message_controls\":\"Messages_create_message_controls__CgIFe\",\"emojiBlock\":\"Messages_emojiBlock__aJfYd\",\"emoji\":\"Messages_emoji__q4GmL\",\"arrow_wrapper\":\"Messages_arrow_wrapper__g4h0j\",\"emoji_wrapper\":\"Messages_emoji_wrapper__2GLaP\",\"clip\":\"Messages_clip__ybJGI\",\"pin_img_url\":\"Messages_pin_img_url__9pfQa\",\"send_message\":\"Messages_send_message__WJIpT\"};","import React, { useEffect, useRef, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Navigate, NavLink } from \"react-router-dom\";\nimport clip from \"../../assets/svg/clip.svg\";\nimport { AppDispatchType, AppStateType } from \"../../redux/store\";\nimport s from \"./Messages.module.css\";\nimport emptyProfile from \"../../assets/empty-profile.png\";\nimport { useDispatch } from \"react-redux\";\nimport arrowRight from \"../../assets/svg/arrow-right.svg\";\nimport arrowDown from \"../../assets/svg/arrow-down.svg\";\nimport { ButtonOrange } from \"../common/ButtonOrange/ButtonOrange\";\nimport { useTranslation } from \"react-i18next\";\nimport { getMessagesTC, MessageType, newMessageAC } from \"../../redux/messagesReducer\";\n\nconst emoji = require(\"emoji-dictionary\");\n\nconst Messages = () => {\n    const { t } = useTranslation();\n\n    const dispatch = useDispatch<AppDispatchType>();\n\n    const isAuth = useSelector<AppStateType, boolean>((state) => state.app.isAuth);\n    const photo = useSelector<AppStateType, string>((state) => state.app.photo);\n    const user_id = useSelector<AppStateType, string>((state) => state.app.user.user_id);\n    const messages = useSelector<AppStateType, Array<MessageType>>((state) => state.messages.messages);\n\n    const initialMessage = {\n        user_id,\n        photo,\n        message: \"\",\n        id: Math.random(),\n        event: \"message\",\n        date: `${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}`,\n        image: \"\"\n    };\n\n    const [openImgUrl, setOpenImgUrl] = useState<boolean>(false);\n    const [emojiCollapse, setEmojiCollapse] = useState<boolean>(true);\n    const [message, setMessage] = useState(initialMessage);\n\n    const socket = useRef<any>();\n\n    useEffect(() => {dispatch(getMessagesTC())}, []); //!\n\n    useEffect(() => {\n        \n        socket.current = new WebSocket(\"wss://dart-social-network.herokuapp.com\");\n\n        socket.current.onopen = () => {\n            console.log(\"WEBSOCKET OPEN\")\n        };\n        socket.current.onmessage = (event: any) => {\n            // const message = JSON.parse(event.data);\n            // dispatch(newMessageAC(message))\n            dispatch(getMessagesTC())\n        };\n        socket.current.onclose = () => {\n            console.log(\"Socket закрыт\");\n        };\n        socket.current.onerror = () => {\n            console.log(\"Socket произошла ошибка\");\n        };\n    }, []);\n\n    const sendMessage = async () => {\n        socket.current.send(JSON.stringify(message));\n        setMessage(initialMessage);\n    };\n\n    const avatar = {\n        backgroundImage: photo ? `url(${process.env.REACT_APP_HOST}${photo})` : `url(${emptyProfile})`,\n    };\n\n    if (!isAuth) {\n        return <Navigate to=\"/login\" />;\n    } else\n        return (\n            <div className={s.messages_wrapper}>\n                <section className={s.left_panel}>Messages</section>\n                <section className={s.main}>\n                    <div className={s.messages}>\n                        {messages.map((mess: any) => {\n                            return (\n                                <div key={mess.id} className={`${s.message_item_wrapper} ${mess.user_id === user_id && s.reverse}`}>\n                                    <div className={s.avatar_wrapper}>\n                                        <NavLink to={mess.user_id === user_id ? `/` : `/${mess.user_id}`}>\n                                            <div\n                                                className={s.avatar}\n                                                style={{\n                                                    backgroundImage: mess.photo ? `url(${process.env.REACT_APP_HOST}${mess.photo})` : `url(${emptyProfile})`,\n                                                }}\n                                            ></div>\n                                        </NavLink>\n                                    </div>\n                                    <div>\n                                        <div className={`${s.message_item} ${mess.user_id === user_id && s.right}`}>\n                                            <p>{mess.message.trim()}</p>\n                                            {mess.image && <div className={s.message_image}><img src={mess.image} alt=\"message img pin\" width={100} /></div>}\n                                        </div>\n                                        <p className={s.message_data}>{mess.date}</p>\n                                    </div>\n                                </div>\n                            );\n                        })}\n                    </div>\n                    <div className={s.send_message}>\n                        <div className={s.type_message}>\n                            <div className={s.message_author_wrapper}>\n                                <div className={s.message_author} style={avatar}></div>\n                            </div>\n                            <textarea cols={30} rows={4} value={message.message} onChange={(e) => setMessage({ ...message, message: e.target.value })} />\n                        </div>\n                        {openImgUrl && (\n                            <div className={s.pin_img_url}>\n                                <p>{t(\"posts.enterImgUrl\")}</p>\n                                <input type=\"text\" placeholder=\"https://example.com/template.png\" value={message.image} onChange={(e) => {setMessage({...message, image: e.currentTarget.value})}} />\n                            </div>\n                        )}\n                        <div className={s.create_message_controls}>\n                            <div className={s.emoji_wrapper}>\n                                <div className={s.arrow_wrapper} onClick={() => setEmojiCollapse((prev) => !prev)}>\n                                    <img src={emojiCollapse ? arrowRight : arrowDown} alt=\"arrow\" />\n                                </div>\n                                <div className={s.emojiBlock} style={emojiCollapse ? { height: \"20px\" } : { height: \"114px\" }}>\n                                    {emoji.unicode.map((m: any, i: number) => (\n                                        <div className={s.emoji} onClick={() => setMessage({ ...message, message: message.message + m })} key={i}>\n                                            {m}\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                            {/* @ts-ignore */}\n                            <div className={s.clip} title={t(\"posts.pinPicture\")} onClick={() => setOpenImgUrl((prev) => !prev)}>\n                                <img src={clip} alt=\"clip\" width={22} height={22} />\n                            </div>\n                            <ButtonOrange width={200} height={40} alignSelf={\"self-end\"} title={t(\"messages.send\")} onClick={sendMessage} disabled={message.message.trim() === \"\"}/>\n                        </div>\n                        <span style={{color: \"red\"}}>Chat is not available on the free backend hosting</span>\n                    </div>\n                </section>\n            </div>\n        );\n};\n\nexport default Messages;\n"],"names":["emoji","require","t","useTranslation","dispatch","useDispatch","isAuth","useSelector","state","app","photo","user_id","user","messages","initialMessage","message","id","Math","random","event","date","Date","toLocaleDateString","toLocaleTimeString","image","useState","openImgUrl","setOpenImgUrl","emojiCollapse","setEmojiCollapse","setMessage","socket","useRef","useEffect","getMessagesTC","current","WebSocket","onopen","console","log","onmessage","onclose","onerror","sendMessage","send","JSON","stringify","avatar","backgroundImage","process","emptyProfile","className","s","map","mess","to","style","trim","src","alt","width","cols","rows","value","onChange","e","target","type","placeholder","currentTarget","onClick","prev","arrowRight","arrowDown","height","unicode","m","i","title","clip","ButtonOrange","alignSelf","disabled","color"],"sourceRoot":""}